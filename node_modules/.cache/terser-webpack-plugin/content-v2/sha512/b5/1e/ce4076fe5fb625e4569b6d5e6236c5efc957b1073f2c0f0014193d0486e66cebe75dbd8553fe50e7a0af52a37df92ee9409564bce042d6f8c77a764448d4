{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t),function(e,t){var n,r,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};\"scrollTime\"in i&&!isNaN(i.scrollTime)||(i.scrollTime=1),\"parallaxed\"in i||(i.parallaxed=null),\"scrollLinks\"in i||(i.scrollLinks=[]),\"customUpdateFunctions\"in i||(i.customUpdateFunctions=[]);var o=[],l=0,s=0;try{if(n=document.getElementById(e),r=document.getElementById(t),a=r.getElementsByTagName(\"section\"),null==n||null==r||!n.contains(r)||0==a.length)throw new Error(\"function frameSectionsScrolling: Некорреткные входные данные\")}catch(e){return void console.log(e.message)}n.style.overflow=\"hidden\",n.style.position=\"relative\",r.style.transition=\"transform \".concat(i.scrollTime,\"s ease\"),function(){var e=document.createElement(\"nav\");e.id=\"pagination\",e.classList.add(\"pagination\");for(var t,r=0,i=0;i<a.length;i++)t=new l(i,r,!i),e.appendChild(t),o.push(r),r+=a[i].offsetHeight;function l(e,t,n){var r;return(r=document.createElement(\"div\")).classList.add(\"pagination__bullet\"),r.dataset.num=e,r.dataset.top=t,n&&r.classList.add(\"pagination__bullet_active\"),r.addEventListener(\"click\",m.bind(r)),r}e.style.top=\"50%\",e.style.marginTop=-e.offsetHeight/2+\"px\",n.appendChild(e)}(),document.addEventListener(\"wheel\",function(e){e.preventDefault(),p(e.deltaY)},{passive:!1}),r.onmousedown=function(e){e.preventDefault();var t,n=e.pageY;document.onmousemove=function(e){t=e.pageY},r.onmouseup=function(e){p(n-t),document.onmousemove=null,r.onmouseup=null}};var c,d,u=function(e){p(c-d),0};function f(){var e=i.parallaxed;if(null!==e)if(Array.isArray(e))for(var t=0;t<e.length;t++)n(e[t]);else n(e);function n(e){var t=document.getElementById(e.id),n=t.dataset.sectionNum,r=t.offsetHeight*e.parallaxRatio;n==l?t.style.transform=\"translateY(0)\":n>l?t.style.transform=\"translateY(\".concat(r,\"px)\"):n<l&&(t.style.transform=\"translateY(-\".concat(r,\"px)\"))}}function m(){v(this.dataset.top)}function p(e){e>0&&l<a.length-1?(scrollTo=o[l+1],v(scrollTo)):e<0&&l>0&&(scrollTo=o[l-1],v(scrollTo))}function v(e){!function(e){r.style.transform=\"translateY(-\".concat(e,\"px)\"),s=e,l=o.indexOf(+s)}(e),document.getElementsByClassName(\"pagination__bullet_active\")[0].classList.toggle(\"pagination__bullet_active\"),document.querySelector('[data-num=\"'.concat(l,'\"]')).classList.add(\"pagination__bullet_active\"),f(),function(){var e=i.customUpdateFunctions;if(Array.isArray(e))for(var t=0;t<e.length;t++)g(e[t]);else g(e)}()}function g(e){try{e()}catch(e){return void console.log(e.message)}}r.addEventListener(\"touchstart\",function(e){e.preventDefault();var t=e.changedTouches;c=t[0].pageY},!1),r.addEventListener(\"touchmove\",function(e){var t=e.changedTouches;d=t[0].pageY},!1),r.addEventListener(\"touchend\",u,!1),r.addEventListener(\"touchcancel\",u,!1),function(){var e=i.scrollLinks;if(Array.isArray(e))for(var t=0;t<e.length;t++)n(e[t]);else n(e);function n(e){if(\"id\"in e&&\"sectionNum\"in e&&e.sectionNum<a.length&&e.sectionNum>=0){var t=document.getElementById(e.id);if(null==t)return;t.dataset.top=o[e.sectionNum],t.addEventListener(\"click\",m.bind(t))}}}(),function(){var e=i.parallaxed;if(null===e)return;if(Array.isArray(e))for(var t=0;t<e.length;t++){n(e[t])||e.splice(t--,1)}else{n(e)||(e=null)}function n(e){if(!(\"id\"in e&&\"parallaxRatio\"in e))return!1;var t=document.getElementById(e.id);if(null==t)return!1;for(var n=-1,r=0;r<a.length;r++){var o=!0,l=!1,s=void 0;try{for(var c,d=a[r].childNodes[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){c.value.id==e.id&&(n=r)}}catch(e){l=!0,s=e}finally{try{o||null==d.return||d.return()}finally{if(l)throw s}}}return-1!=n&&(t.style.transition=\"transform \".concat(i.scrollTime,\"s ease\"),t.dataset.sectionNum=n,!0)}}(),f()}(\"frame\",\"content\",{scrollTime:1,parallaxed:[{id:\"ice-keel__parallaxed\",parallaxRatio:.5},{id:\"ice\",parallaxRatio:.5},{id:\"scroll-down\"}],scrollLinks:{id:\"scroll-down\",sectionNum:1},customUpdateFunctions:function(){var e=document.getElementById(\"scroll-down\");\"translateY(0px)\"==content.style.transform?(e.style.opacity=1,e.style.display=\"block\"):(e.style.opacity=0,e.style.display=\"none\")}}),function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"scrollTime\"in r&&!isNaN(r.scrollTime)||(r.scrollTime=1),\"currentSlide\"in r||(r.currentSlide=\"last\"),\"lineWidth\"in r&&!isNaN(r.lineWidth)||(r.lineWidth=640);var a,i,o,l,s,c,d,u=0,f=[],m=[];try{if(t=document.getElementById(e),n=t.getElementsByClassName(\"slide\"),null==t||0==n.length)throw new Error(\"function slider: Некорреткные входные данные\");if(1==n.length)return}catch(e){return void console.log(e.message)}t.style.display=\"flex\",t.style.transition=\"transform \".concat(r.scrollTime,\"s ease\"),t.style.transform=\"translateX(0px)\";for(var p=0;p<n.length;p++)n[p].style.flexShrink=\"0\";!function(){for(var e=r.lineWidth,t=n.length,a=e/(t-1),i=0,o=0,l=a/2,s=0;s<n.length;s++)m[s]={},m[s].left=i,m[s].position=o,m[s].rigth=l,i=l+1,o+=a,l=l+a<e?l+a:o}(),function(){for(var e=0,t=0;e<n.length;e++)f.push(t),t+=n[e].offsetWidth}(),(i=document.createElement(\"div\")).id=\"slider__nav\",i.classList.add(\"slider__nav\"),i.style.transition=\"transform \".concat(r.scrollTime,\"s ease\"),(o=document.createElement(\"div\")).id=\"slider__line\",o.classList.add(\"slider__line\"),i.appendChild(o),(l=document.createElement(\"div\")).id=\"slider__progress\",l.classList.add(\"slider__progress\"),l.style.transformOrigin=\"left center\",i.appendChild(l),(s=document.createElement(\"div\")).id=\"slider__cursor\",s.classList.add(\"slider__cursor\"),s.style.transform=\"translateX(0)\",(c=document.createElement(\"div\")).classList.add(\"slider__cursor-thumb\"),s.appendChild(c),i.appendChild(s),function(){(d=document.createElement(\"div\")).id=\"slider__positions\",d.classList.add(\"slider__positions\");for(var e,t,a=0;a<n.length;a++){e=document.createElement(\"h4\"),t=n[a].getElementsByClassName(\"slide__label\")[0],e.innerHTML=null==t?\"•\":t.innerHTML,e.classList.add(\"slider__positions-item\");var o=r.lineWidth/n.length,l=m[a].position,s=o/2;e.style.width=\"\".concat(o,\"px\"),e.style.left=\"\".concat(l-s,\"px\"),d.appendChild(e)}i.appendChild(d)}(),t.appendChild(i),function(){switch(r.currentSlide){case\"first\":a=0,u=0,x();break;case\"last\":a=r.lineWidth,u=n.length-1,x();break;default:if(isNaN(r.currentSlide)||r.currentSlide<0||r.currentSlide>=n.length)break;a=m[r.currentSlide].position,u=r.currentSlide,x()}}(),s.onmousedown=function(e){e.stopPropagation(),e.preventDefault();var t,n,r=e.pageX;document.onmousemove=function(e){t=e.pageX,n=t-r,r=t,_(n)},document.onmouseup=function(e){E(),document.onmousemove=null,document.onmouseup=null}};var v,g,h,y=function(e){e.stopPropagation(),E()};function _(e){var t=a+e;t>=0&&t<=r.lineWidth&&(a=t,function(){for(var e=0;e<n.length;e++)if(a<=m[e].rigth&&a>=m[e].left){u=e;break}}(),x())}function E(){var e,t=a,n=m[u].position-t;!function(e){var t=performance.now();requestAnimationFrame(function n(r){var a=(r-t)/e.duration;a>1&&(a=1);var i=e.timing(a);e.draw(i),a<1&&requestAnimationFrame(n)})}({duration:500,timing:(e=T,function(t){return t<.5?e(2*t)/2:(2-e(2*(1-t)))/2}),draw:function(e){a=t+n*e,L(),b()}})}function x(){var e;L(),b(),e=f[u],t.style.transform=\"translateX(-\".concat(e,\"px)\"),i.style.transform=\"translateX(\".concat(e,\"px)\")}function L(){s.style.transform=\"translateX(\".concat(a,\"px)\")}function b(){var e=a/r.lineWidth;l.style.transform=\"scaleX(\".concat(e,\")\")}function T(e){return 1-Math.sin(Math.acos(e))}s.addEventListener(\"touchstart\",function(e){e.stopPropagation(),e.preventDefault();var t=e.changedTouches;v=t[0].pageX},!1),s.addEventListener(\"touchmove\",function(e){var t=e.changedTouches;g=t[0].pageX,h=g-v,v=g,_(h)},!1),s.addEventListener(\"touchend\",y,!1),s.addEventListener(\"touchcancel\",y,!1)}(\"slider\",{scrollTime:1,currentSlide:\"last\"}),function(){for(var e=4,t=document.getElementsByClassName(\"alert\"),n=0;n<t.length;n++)r(t[n]);function r(t){for(var n,r=0;r<e;r++)(n=document.createElement(\"div\")).classList.add(\"alert__wave\"),t.appendChild(n)}}()}]);","extractedComments":[]}